{"version":3,"sources":["webpack/bootstrap dde6cf8e5a0d22eb4a5b","C:/Users/Jeremy/documents/visual studio 2017/WebSites/dcpu-emulator-web/src\\Device\\Device.ts","C:/Users/Jeremy/documents/visual studio 2017/WebSites/dcpu-emulator-web/src\\Utils.ts","C:/Users/Jeremy/documents/visual studio 2017/WebSites/dcpu-emulator-web/src\\Device\\Clock.ts","C:/Users/Jeremy/documents/visual studio 2017/WebSites/dcpu-emulator-web/src\\Device\\Keyboard.ts","C:/Users/Jeremy/documents/visual studio 2017/WebSites/dcpu-emulator-web/src\\Device\\Monitor.ts","C:/Users/Jeremy/documents/visual studio 2017/WebSites/dcpu-emulator-web/src\\Emulator.ts","C:/Users/Jeremy/documents/visual studio 2017/WebSites/dcpu-emulator-web/src\\Literal.ts","C:/Users/Jeremy/documents/visual studio 2017/WebSites/dcpu-emulator-web/src\\Op.ts","C:/Users/Jeremy/documents/visual studio 2017/WebSites/dcpu-emulator-web/src\\OpCode.ts","C:/Users/Jeremy/documents/visual studio 2017/WebSites/dcpu-emulator-web/src\\Register.ts","C:/Users/Jeremy/documents/visual studio 2017/WebSites/dcpu-emulator-web/src\\RegisterCode.ts","C:/Users/Jeremy/documents/visual studio 2017/WebSites/dcpu-emulator-web/src\\RegisterPlusNextWord.ts","C:/Users/Jeremy/documents/visual studio 2017/WebSites/dcpu-emulator-web/src\\RegisterValue.ts","C:/Users/Jeremy/documents/visual studio 2017/WebSites/dcpu-emulator-web/src\\StackPointerValue.ts","C:/Users/Jeremy/documents/visual studio 2017/WebSites/dcpu-emulator-web/src\\TestApp.ts"],"names":[],"mappings":"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MAAM,EAAE,MAAM,EAAE,MAAM;YAC9D,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;YAC9D,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;YAC9D,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;YAC9D,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;YAC9D,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;YAC9D,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;YAC9D,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;YAC9D,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;YAC9D,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;YAC9D,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;YAC9D,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;YAC9D,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;YAC9D,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;YAC9D,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;YAC9D,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,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AAC,SAAS,CAAC,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,6BAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QACxD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,6BAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QACxD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,6BAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QACxD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,6BAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QACxD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,6BAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QACxD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,6BAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QACxD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,6BAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QACxD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC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","file":"js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dde6cf8e5a0d22eb4a5b","export abstract class Device {\r\n    public readonly id: any;\r\n    public readonly version: any;\r\n    public readonly manufacturer: any;\r\n    public readonly emulator: any;\r\n\r\n    public constructor(id: any, version: any, manufacturer: any, emulator: any) {\r\n        this.id = id;\r\n        this.version = version;\r\n        this.manufacturer = manufacturer;\r\n        this.emulator = emulator;\r\n    }\r\n\r\n    public abstract interrupt(): void;\r\n    public abstract init(): void;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Device/Device.ts","export class Utils {\r\n    public static to32BitSigned(val) {\r\n        if ((val & 0x8000) > 0) {\r\n            return (((~val) + 1) & 0xffff) * -1;\t// two's complement\r\n        }\r\n        return val;\r\n    }\r\n\r\n    public static to16BitSigned(val) {\r\n        if (val < 0) {\r\n            //return ((~val) + 1) & 0xffff;\t// two's complement\r\n            return ((val & 0x7fff) | 0x8000);\r\n        }\r\n        return val & 0xffff;\r\n    }\r\n\r\n    public static byteTo32BitSigned(val) {\r\n        if ((val & 0x80) > 0) {\r\n            return (((~val) + 1) & 0xff) * -1;\t// two's complement\r\n        }\r\n        return val;\r\n    }\r\n\r\n    public static roundTowardsZero(val) {\r\n        if (val < 0)\r\n            val = Math.ceil(val);\r\n        else\r\n            val = Math.floor(val);\r\n        return val;\r\n    }\r\n\r\n    public static makeInstruction(opcode, a, b) {\r\n        var instruction = opcode;\r\n        instruction |= (b << 5);\r\n        instruction |= (a << 10);\r\n        return instruction;\r\n    }\r\n\r\n    public static makeSpecialInstruction (opcode, a) {\r\n        var instruction = 0;\r\n        instruction |= (a << 10);\r\n        instruction |= (opcode << 5);\r\n        return instruction;\r\n    }\r\n\r\n    public static parseInstruction(instruction) {\r\n        return {\r\n            opcode: instruction & 0x001f,\r\n            b: (instruction & 0x03e0) >> 5,\r\n            a: (instruction & 0xfc00) >> 10\r\n        }\r\n    }\r\n\r\n    public static parseSpecialInstruction(instruction) {\r\n        return {\r\n            a: (instruction & 0xfc00) >> 10,\r\n            opcode: (instruction & 0x03e0) >> 5,\r\n            b: 0\r\n        }\r\n    }\r\n\r\n    public static hex(num) {\r\n        return \"0x\" + Utils.to16BitSigned(num).toString(16);\r\n    }\r\n\r\n    public static hex2(num) {\r\n        //var str = Utils.to16BitSigned(num).toString(16);\r\n        var str = (num).toString(16);\r\n        return \"0x\" + \"0000\".substr(str.length) + str;\r\n    }\r\n\r\n    public static makeVideoCell(glyph, blink, bg, fg) {\r\n        var result = glyph & 0x7f;\r\n        result |= (blink & 0x1) << 7;\r\n        result |= (bg & 0xf) << 8;\r\n        result |= (fg & 0xf) << 12;\r\n        return result;\r\n    }\r\n\r\n\r\n    public static unpackColor16(c: number): UtilsColor {\r\n        var r = ((c & 0xf00) >> 8) * 16;\r\n        var g = ((c & 0x0f0) >> 4) * 16;\r\n        var b = (c & 0x00f) * 16;\r\n\r\n        return new UtilsColor(r, g, b);\r\n    }\r\n\r\n    public static createImage(src) {\r\n        var img = new Image();\r\n        img.src = src;\r\n        return img;\r\n    }\r\n};\r\n\r\nexport class UtilsColor {\r\n    public r: number;\r\n    public g: number;\r\n    public b: number;\r\n\r\n    public constructor(r: number, g: number, b: number) {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Utils.ts","// https://raw.github.com/gibbed/0x10c-Notes/master/hardware/clock.txt\r\n\r\nimport { Device } from \"./Device\";\r\n\r\nexport class Clock extends Device {\r\n    public interruptsOn = false;\r\n    public elapsed = 0;\r\n    public interval = 0;\r\n    public interruptMessage = 0;\r\n    private running: boolean = false;\r\n    private duration: number;\r\n    private elapsedTicks = 0;\r\n\r\n    public constructor(_emulator) {\r\n        super(0x12d0b402, 1, 0x90099009, _emulator);\r\n    }\r\n\r\n    public init() {\r\n        this.stop();\r\n    }\r\n\r\n    public interrupt() {\r\n        var aVal = this.emulator.Registers.A.get();\r\n        var bVal = this.emulator.Registers.B.get();\r\n\r\n        switch (aVal) {\r\n            case 0:\r\n                if (bVal != 0)\r\n                    this.start(Math.round(bVal / 60 * 1000));\r\n                else\r\n                    this.stop();\r\n                break;\r\n\r\n            case 1:\r\n                this.emulator.Registers.C.set(this.elapsedTicks);\r\n                break;\r\n\r\n            case 2:\r\n                if (bVal != 0) {\r\n                    this.interruptsOn = true;\r\n                    this.interruptMessage = bVal;\r\n                }\r\n                else {\r\n                    this.interruptsOn = false;\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    private start(duration) {\r\n        this.stop();\r\n        this.elapsed = 0;\r\n        this.elapsedTicks = 0;\r\n        this.duration = duration;\r\n        this.running = true;\r\n    }\r\n\r\n    private stop() {\r\n        this.running = false;\r\n        this.elapsed = 0;\r\n    }\r\n\r\n    private tick() {\r\n        if (this.interruptsOn)\r\n            this.emulator.interrupt(this.interruptMessage);\r\n\r\n        this.elapsedTicks = (this.elapsedTicks + 1) & 0xffff;\r\n    }\r\n\r\n    public update(deltaTime: number) {\r\n        if (!this.running)\r\n            return;\r\n\r\n        this.elapsed += deltaTime;\r\n\r\n        for (; this.elapsed >= this.duration; this.elapsed -= this.duration) {\r\n            this.tick();\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Device/Clock.ts","// https://raw.github.com/gibbed/0x10c-Notes/master/hardware/keyboard.txt\r\n\r\nimport { Device } from \"./Device\";\r\n\r\nexport class Keyboard extends Device {\r\n    public downKeys: any = {};\r\n    public keys = [];\r\n    public interruptsOn = false;\r\n    public interruptMessage = 0;\r\n\r\n    public constructor(_emulator) {\r\n        super(0x30cf7406, 1, 0x90099009, _emulator);\r\n    }\r\n\r\n    public init() {\r\n        this.interruptsOn = false;\r\n        this.interruptMessage = 0;\r\n        this.keys = [];\r\n        this.downKeys = {};\r\n    }\r\n\r\n    public keyDown(event) {\r\n        var code = this.convert(event.keyCode, event);\r\n        if (code == 0)\r\n            return true;\r\n\r\n        this.downKeys[\"\" + code] = true;\r\n\r\n        this.keys.push(code);\r\n\r\n        if (this.interruptsOn)\r\n            this.emulator.interrupt(this.interruptMessage);\r\n\r\n        return event.keyCode == 8 ? false : true;\r\n    }\r\n\r\n    public keyUp(event) {\r\n        var code = this.convert(event.keyCode, event);\r\n        this.downKeys[\"\" + code] = false;\r\n\r\n        return event.keyCode == 8 ? false : true;\r\n    }\r\n\r\n    private convert(code, event): any {\r\n        // TODO: convert key codes\r\n        switch (code) {\r\n            // backspace\r\n            case 8:\r\n                return 0x10;\r\n            // tab\r\n            case 9:\r\n                return 0x09;\r\n            // return\r\n            case 13:\r\n                return 0x11;\r\n            // insert\r\n            case 45:\r\n                return 0x12;\r\n            // delete\r\n            case 46:\r\n                return 0x13;\r\n            // up arrow\r\n            case 38:\r\n                return 0x80;\r\n            // down arrow\r\n            case 40:\r\n                return 0x81;\r\n            // left arrow\r\n            case 37:\r\n                return 0x82;\r\n            // right arrow\r\n            case 39:\r\n                return 0x83;\r\n            // shift\r\n            case 16:\r\n                return 0x90;\r\n            //ctrl\r\n            case 17:\r\n                return 0x91;\r\n            // space\r\n            case 32:\r\n                return 0x20;\r\n            // semicolon\r\n            case 186:\r\n                return 0x3B;\r\n            // equal sign\r\n            case 187:\r\n                return 0x3D;\r\n            // comma\r\n            case 188:\r\n                return 0x2C;\r\n            // dash\r\n            case 189:\r\n                return 0x2D;\r\n            // period\r\n            case 190:\r\n                return 0x2E;\r\n            // forward slash\r\n            case 191:\r\n                return 0x2F;\r\n            // grave accent\r\n            case 192:\r\n                return 0x60;\r\n            // open bracket\r\n            case 219:\r\n                return 0x5B;\r\n            // backslash\r\n            case 220:\r\n                return 0x5C;\r\n            // close bracket\r\n            case 221:\r\n                return 0x5D;\r\n            // single quote\r\n            case 222:\r\n                return 0x27;\r\n\r\n            default:\r\n                if (code >= 0x20 && code <= 0x7f) {\r\n                    var str = String.fromCharCode(code);\r\n                    if (!event.shiftKey)\r\n                        str = str.toLowerCase()\r\n                    return str.charCodeAt(0);\r\n                }\r\n\r\n                return 0;\r\n        }\r\n    }\r\n\r\n    public interrupt() {\r\n        var aVal = this.emulator.Registers.A.get();\r\n        switch (aVal) {\r\n            case 0:\r\n                this.keys = [];\r\n                break;\r\n\r\n            case 1:\r\n                var val = 0;\r\n                if (this.keys.length > 0) {\r\n                    val = this.keys[0];\r\n                    this.keys.splice(0, 1);\r\n                }\r\n                this.emulator.Registers.C.set(val);\r\n                break;\r\n\r\n            case 2:\r\n                var bVal = this.emulator.Registers.B.get();\r\n                if (this.downKeys[\"\" + bVal])\r\n                    this.emulator.Registers.C.set(1);\r\n                else\r\n                    this.emulator.Registers.C.set(0);\r\n                break;\r\n\r\n            case 3: {\r\n                var bVal = this.emulator.Registers.B.get();\r\n                if (bVal != 0) {\r\n                    this.interruptsOn = true;\r\n                    this.interruptMessage = bVal;\r\n                }\r\n                else {\r\n                    this.interruptsOn = false;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Device/Keyboard.ts","\r\nimport { Device } from \"./Device\";\r\nimport { Utils, UtilsColor } from \"../Utils\";\r\n\r\nexport class Monitor extends Device {\r\n    public static readonly SCREEN_WIDTH = 128;\r\n    public static readonly SCREEN_HEIGHT = 96;\r\n    \r\n    private blinkGlyphsOn: boolean;\r\n    private refreshCount: number;\r\n    private fontOffset: number;\r\n    private memOffset: number;\r\n    private palette: number[];\r\n    private defaultPalette: number[];\r\n    private defaultFont = [];\r\n\r\n    private readonly monitorFillRect: MonitorFillRect;\r\n\r\n    public constructor(_emulator, canvas: MonitorFillRect) {\r\n        super(0x7349f615, 0x1802, 0x1c6c8b36, _emulator)\r\n\r\n        this.monitorFillRect = canvas;\r\n\r\n        this.defaultFont = [\r\n            0x000f, 0x0808, 0x080f, 0x0808, 0x08f8, 0x0808, 0x00ff, 0x0808,\r\n            0x0808, 0x0808, 0x08ff, 0x0808, 0x00ff, 0x1414, 0xff00, 0xff08,\r\n            0x1f10, 0x1714, 0xfc04, 0xf414, 0x1710, 0x1714, 0xf404, 0xf414,\r\n            0xff00, 0xf714, 0x1414, 0x1414, 0xf700, 0xf714, 0x1417, 0x1414,\r\n            0x0f08, 0x0f08, 0x14f4, 0x1414, 0xf808, 0xf808, 0x0f08, 0x0f08,\r\n            0x001f, 0x1414, 0x00fc, 0x1414, 0xf808, 0xf808, 0xff08, 0xff08,\r\n            0x14ff, 0x1414, 0x080f, 0x0000, 0x00f8, 0x0808, 0xffff, 0xffff,\r\n            0xf0f0, 0xf0f0, 0xffff, 0x0000, 0x0000, 0xffff, 0x0f0f, 0x0f0f,\r\n            0x0000, 0x0000, 0x005f, 0x0000, 0x0300, 0x0300, 0x3e14, 0x3e00,\r\n            0x266b, 0x3200, 0x611c, 0x4300, 0x3629, 0x7650, 0x0002, 0x0100,\r\n            0x1c22, 0x4100, 0x4122, 0x1c00, 0x2a1c, 0x2a00, 0x083e, 0x0800,\r\n            0x4020, 0x0000, 0x0808, 0x0800, 0x0040, 0x0000, 0x601c, 0x0300,\r\n            0x3e41, 0x3e00, 0x427f, 0x4000, 0x6259, 0x4600, 0x2249, 0x3600,\r\n            0x0f08, 0x7f00, 0x2745, 0x3900, 0x3e49, 0x3200, 0x6119, 0x0700,\r\n            0x3649, 0x3600, 0x2649, 0x3e00, 0x0024, 0x0000, 0x4024, 0x0000,\r\n            0x0814, 0x2241, 0x1414, 0x1400, 0x4122, 0x1408, 0x0259, 0x0600,\r\n            0x3e59, 0x5e00, 0x7e09, 0x7e00, 0x7f49, 0x3600, 0x3e41, 0x2200,\r\n            0x7f41, 0x3e00, 0x7f49, 0x4100, 0x7f09, 0x0100, 0x3e49, 0x3a00,\r\n            0x7f08, 0x7f00, 0x417f, 0x4100, 0x2040, 0x3f00, 0x7f0c, 0x7300,\r\n            0x7f40, 0x4000, 0x7f06, 0x7f00, 0x7f01, 0x7e00, 0x3e41, 0x3e00,\r\n            0x7f09, 0x0600, 0x3e41, 0xbe00, 0x7f09, 0x7600, 0x2649, 0x3200,\r\n            0x017f, 0x0100, 0x7f40, 0x7f00, 0x1f60, 0x1f00, 0x7f30, 0x7f00,\r\n            0x7708, 0x7700, 0x0778, 0x0700, 0x7149, 0x4700, 0x007f, 0x4100,\r\n            0x031c, 0x6000, 0x0041, 0x7f00, 0x0201, 0x0200, 0x8080, 0x8000,\r\n            0x0001, 0x0200, 0x2454, 0x7800, 0x7f44, 0x3800, 0x3844, 0x2800,\r\n            0x3844, 0x7f00, 0x3854, 0x5800, 0x087e, 0x0900, 0x4854, 0x3c00,\r\n            0x7f04, 0x7800, 0x447d, 0x4000, 0x2040, 0x3d00, 0x7f10, 0x6c00,\r\n            0x417f, 0x4000, 0x7c18, 0x7c00, 0x7c04, 0x7800, 0x3844, 0x3800,\r\n            0x7c14, 0x0800, 0x0814, 0x7c00, 0x7c04, 0x0800, 0x4854, 0x2400,\r\n            0x043e, 0x4400, 0x3c40, 0x7c00, 0x1c60, 0x1c00, 0x7c30, 0x7c00,\r\n            0x6c10, 0x6c00, 0x4c50, 0x3c00, 0x6454, 0x4c00, 0x0836, 0x4100,\r\n            0x0077, 0x0000, 0x4136, 0x0800, 0x0201, 0x0201, 0x704c, 0x7000\r\n        ];\r\n\r\n        this.defaultPalette = this.palette = [\r\n            0x000, 0x00a, 0x0a0, 0x0aa, 0xa00, 0xa0a, 0xa50, 0xaaa,\r\n            0x555, 0x55f, 0x5f5, 0x5ff, 0xf55, 0xf5f, 0xff5, 0xfff\r\n        ];\r\n        \r\n        this.memOffset = 0x8000;\r\n        this.fontOffset = 0x8180;\r\n        this.refreshCount = 0;\r\n        \r\n        this.blinkGlyphsOn = true;\r\n    }\r\n\r\n    public init() {\r\n        this.disconnect();\r\n        this.refreshCount = 0;\r\n        this.memOffset = 0x8000;\r\n        this.fontOffset = 0x8180;\r\n\r\n        // map font\r\n        for (var i = 0; i < this.defaultFont.length; i++) {\r\n            this.emulator.RAM[this.fontOffset + i] = this.defaultFont[i];\r\n        }\r\n\r\n        this.palette = this.defaultPalette;\r\n    }\r\n\r\n    public interrupt() {\r\n        var aVal = this.emulator.Registers.A.get();\r\n        var bVal = this.emulator.Registers.B.get();\r\n        switch (aVal) {\r\n            case 0:\r\n                if (bVal === 0)\r\n                    this.disconnect();\r\n                else\r\n                    this.memMapScreen(bVal);\r\n                break;\r\n\r\n            case 1:\r\n                this.memMapFont(bVal);\r\n                break;\r\n\r\n            case 2:\r\n                this.memMapPalette(bVal);\r\n                break;\r\n\r\n            case 3:\r\n                break;\r\n\r\n            case 4:\r\n                this.memDumpFont(bVal);\r\n                break;\r\n\r\n            case 5:\r\n                this.memDumpPalette(bVal);\r\n                break;\r\n        }\r\n    }\r\n\r\n    private memMapScreen(offset) {\r\n        this.memOffset = offset;\r\n    }\r\n\r\n    private drawCell(x, y, word) {\r\n        var glyph = word & 0x7f;\r\n        var blink = (word & 0x80) >> 7;\r\n        var bg = (word & 0xf00) >> 8;\r\n        var fg = (word & 0xf000) >> 12;\r\n        this.drawGlyph(x, y, glyph, this.palette[fg], this.palette[bg], blink);\r\n    }\r\n\r\n    private drawGlyph(x, y, glyph, fg, bg, blink) {\r\n        var color = Utils.unpackColor16(bg);\r\n        this.monitorFillRect(x * 4, y * 8, 4, 8, color);\r\n\r\n        if (blink && !this.blinkGlyphsOn)\r\n            return;\r\n\r\n        color = Utils.unpackColor16(fg);\r\n\r\n        var cols = [];\r\n        glyph *= 2;\r\n        cols[0] = this.emulator.RAM[this.fontOffset + glyph] >> 8;\r\n        cols[1] = this.emulator.RAM[this.fontOffset + glyph] & 0xff;\r\n        cols[2] = this.emulator.RAM[this.fontOffset + glyph + 1] >> 8;\r\n        cols[3] = this.emulator.RAM[this.fontOffset + glyph + 1] & 0xff;\r\n\r\n        for (var row = 0; row < 8; row++) {\r\n            for (var col = 0; col < 4; col++) {\r\n                var bit = (cols[col] >> row) & 0x01;\r\n                if (bit == 1)\r\n                    this.monitorFillRect((x * 4 + col), (y * 8 + row), 1, 1, color);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public refresh() {\r\n        this.refreshCount++;\r\n        if (this.refreshCount > 10) {\r\n            this.blinkGlyphsOn = !this.blinkGlyphsOn;\r\n            this.refreshCount = 0;\r\n        }\r\n\r\n        for (var y = 0; y < 12; y++) {\r\n            for (var x = 0; x < 32; x++) {\r\n                this.drawCell(x, y, this.emulator.RAM[this.memOffset + x + y * 32]);\r\n            }\r\n        }\r\n    }\r\n\r\n    public disconnect() {\r\n        this.monitorFillRect(0, 0, 128, 96, new UtilsColor(119, 119, 119));\r\n    }\r\n\r\n    private memMapFont(offset) {\r\n        if (offset == 0) {\r\n            this.fontOffset = 0x8180;\r\n            for (var i = 0; i < this.defaultFont.length; i++) {\r\n                this.emulator.RAM[this.fontOffset + i] = this.defaultFont[i];\r\n            }\r\n        }\r\n        else\r\n            this.fontOffset = offset;\r\n    }\r\n\r\n    private memMapPalette(offset) {\r\n        if (offset === 0)\r\n            this.palette = this.defaultPalette;\r\n        else {\r\n            this.palette = [];\r\n            for (var i = 0; i < 16; i++) {\r\n                this.palette[i] = this.emulator.RAM[offset + i];\r\n            }\r\n        }\r\n    }\r\n\r\n    private memDumpFont(offset) {\r\n        for (var i = 0; i < 256; i++) {\r\n            this.emulator.RAM[offset + i] = this.defaultFont[i];\r\n        }\r\n        this.emulator.CPU_CYCLE += 256;\r\n    }\r\n\r\n    private memDumpPalette(offset) {\r\n        for (var i = 0; i < 16; i++) {\r\n            this.emulator.RAM[offset + i] = this.defaultPalette[i];\r\n        }\r\n        this.emulator.CPU_CYCLE += 16;\r\n    }\r\n}\r\n\r\nexport interface MonitorFillRect {\r\n    (x: number, y: number, width: number, height: number, color: UtilsColor);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Device/Monitor.ts","\r\n// http://pastebin.com/raw.php?i=Q4JvQvnM\r\n// https://github.com/gibbed/0x10c-Notes\r\n\r\n\r\nimport { RegisterCode } from \"./RegisterCode\";\r\nimport { Utils } from \"./Utils\";\r\nimport { OpCode } from \"./OpCode\";\r\nimport { Register } from \"./Register\";\r\nimport { RegisterValue } from \"./RegisterValue\";\r\nimport { RegisterPlusNextWord } from \"./RegisterPlusNextWord\";\r\nimport { StackPointerValue } from \"./StackPointerValue\";\r\nimport { Literal } from \"./Literal\";\r\nimport { Op } from \"./Op\";\r\nimport { Device } from \"./Device/Device\";\r\n\r\nexport class Emulator {\r\n    private verbose = false;\r\n    private RAM = [];\r\n    private OpSet = [];\r\n    private SpecialOpSet = [];\r\n    private Registers: any;\r\n    private PC: any;\r\n    private Values: any = [];\r\n    private BasicOperations: any;\r\n    private devices = [];\r\n    private interruptQueueingEnabled;\r\n    private interruptQueue = [];\r\n\r\n    public constructor(verboseLogging = false) {\r\n        this.verbose = verboseLogging;\r\n        this.initRegisters();\r\n        this.initValues();\r\n        this.initOperations();\r\n    }\r\n\r\n    private initRegisters() {\r\n        this.Registers = {\r\n            A: new Register(\"A\", RegisterCode.REGISTER_A, this),\r\n            B: new Register(\"B\", RegisterCode.REGISTER_B, this),\r\n            C: new Register(\"C\", RegisterCode.REGISTER_C, this),\r\n            X: new Register(\"X\", RegisterCode.REGISTER_X, this),\r\n            Y: new Register(\"Y\", RegisterCode.REGISTER_Y, this),\r\n            Z: new Register(\"Z\", RegisterCode.REGISTER_Z, this),\r\n            I: new Register(\"I\", RegisterCode.REGISTER_I, this),\r\n            J: new Register(\"J\", RegisterCode.REGISTER_J, this),\r\n            SP: new Register(\"SP\", RegisterCode.REGISTER_SP, this),\r\n            PC: new Register(\"PC\", RegisterCode.REGISTER_PC, this),\r\n            EX: new Register(\"EX\", RegisterCode.REGISTER_EX, this),\r\n            IA: new Register(\"IA\", 0xffff, this),\r\n        };\r\n\r\n\r\n        this.Registers.PC.inc = function () {\r\n            var v = this.get();\r\n            this.set(v + 1);\r\n            return v;\r\n        };\r\n\r\n        this.PC = this.Registers.PC;\r\n\r\n        this.Registers.SP.push = function (val) {\r\n            this.contents = Utils.to16BitSigned(this.contents - 1);\r\n            this.emulator.RAM[this.contents] = val;\r\n        };\r\n\r\n        this.Registers.SP.pop = function () {\r\n            if (this.contents == 0)\r\n                console.log(\"Warning: stack underflow\");\r\n\r\n            var val = this.emulator.RAM[this.contents] || 0;\r\n            this.emulator.RAM[this.contents] = 0;\t// TODO: should the emualtor alter the memory location when it is POPed?\r\n            this.contents = (this.contents + 1) & 0xffff;\r\n            return val;\r\n        };\r\n    }\r\n\r\n    private initValues() {\r\n        this.Values[0x00] = this.Registers.A;\r\n        this.Values[0x01] = this.Registers.B;\r\n        this.Values[0x02] = this.Registers.C;\r\n        this.Values[0x03] = this.Registers.X;\r\n        this.Values[0x04] = this.Registers.Y;\r\n        this.Values[0x05] = this.Registers.Z;\r\n        this.Values[0x06] = this.Registers.I;\r\n        this.Values[0x07] = this.Registers.J;\r\n        this.Values[0x08] = new RegisterValue(this.Registers.A);\r\n        this.Values[0x09] = new RegisterValue(this.Registers.B);\r\n        this.Values[0x0a] = new RegisterValue(this.Registers.C);\r\n        this.Values[0x0b] = new RegisterValue(this.Registers.X);\r\n        this.Values[0x0c] = new RegisterValue(this.Registers.Y);\r\n        this.Values[0x0d] = new RegisterValue(this.Registers.Z);\r\n        this.Values[0x0e] = new RegisterValue(this.Registers.I);\r\n        this.Values[0x0f] = new RegisterValue(this.Registers.J);\r\n        this.Values[0x10] = new RegisterPlusNextWord(this.Registers.A);\r\n        this.Values[0x11] = new RegisterPlusNextWord(this.Registers.B);\r\n        this.Values[0x12] = new RegisterPlusNextWord(this.Registers.C);\r\n        this.Values[0x13] = new RegisterPlusNextWord(this.Registers.X);\r\n        this.Values[0x14] = new RegisterPlusNextWord(this.Registers.Y);\r\n        this.Values[0x15] = new RegisterPlusNextWord(this.Registers.Z);\r\n        this.Values[0x16] = new RegisterPlusNextWord(this.Registers.I);\r\n        this.Values[0x17] = new RegisterPlusNextWord(this.Registers.J);\r\n        this.Values[0x18] = new StackPointerValue(this);\r\n        this.Values[0x19] = new RegisterValue(this.Registers.SP);\r\n        this.Values[0x1a] = new RegisterPlusNextWord(this.Registers.SP);\r\n        this.Values[0x1b] = this.Registers.SP;\r\n        this.Values[0x1c] = this.Registers.PC;\r\n        this.Values[0x1d] = this.Registers.EX;\r\n        this.Values[0x1e] = { // next word value\r\n            emulator: this,\r\n            getA: function () { return this.get(); },\r\n            getB: function () { return this.get(); },\r\n            get: function () {\r\n                this.cachedResult = this.emulator.nextWord();\r\n                return this.emulator.RAM[this.cachedResult] || 0;\r\n            },\r\n            set: function (val) {\r\n                this.emulator.RAM[this.cachedResult] = val;\r\n            }\r\n        };\r\n        this.Values[0x1f] = { // next word literal\t\r\n            emulator: this,\r\n            getA: function () { return this.get(); },\r\n            getB: function () { return this.get(); },\r\n            get: function () { return this.emulator.nextWord(); },\r\n            set: function (val) { }\r\n        };\r\n\r\n        this.Values[0x20] = new Literal(0xffff);\t// -1\r\n        for (var i = 0x21, literalVal = 0; i < 0x40; i++ , literalVal++) {\r\n            this.Values[i] = new Literal(literalVal);\r\n        }\r\n    }\r\n\r\n    private initOperations() {\r\n        this.BasicOperations = {\r\n            SET: new Op(this, \"SET\", OpCode.OPERATION_SET, 1, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                b.set(aVal);\r\n\r\n                // TODO: some applications assume that setting PC to itself should terminate the application\r\n                //if(a == this.emulator.Registers.PC && b == this.emulator.Registers.PC) {\r\n                //\tthis.emulator.Registers.PC.contents = Number.MAX_VALUE;\r\n                //}\r\n            }),\r\n\r\n            ADD: new Op(this, \"ADD\", OpCode.OPERATION_ADD, 2, function (a, b) {\r\n                var aVal = a.getA(); var bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                var res = aVal + bVal;\r\n                if ((res & 0xffff0000) > 0)\r\n                    this.emulator.Registers.EX.set(0x0001);\r\n                else\r\n                    this.emulator.Registers.EX.set(0);\r\n                b.set(res & 0xffff);\r\n            }),\r\n\r\n            SUB: new Op(this, \"SUB\", OpCode.OPERATION_SUB, 2, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                var res = bVal - aVal;\r\n\r\n                if ((res) < 0)\r\n                    this.emulator.Registers.EX.set(0xffff);\r\n                else\r\n                    this.emulator.Registers.EX.set(0);\r\n                b.set(res & 0xffff);\r\n\r\n            }),\r\n\r\n            MUL: new Op(this, \"MUL\", OpCode.OPERATION_MUL, 2, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                var res = aVal * bVal;\r\n                this.emulator.Registers.EX.set((res >> 16) & 0xffff);\r\n                b.set(res & 0xffff);\r\n            }),\r\n\r\n            MLI: new Op(this, \"MLI\", OpCode.OPERATION_MLI, 2, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                aVal = Utils.to32BitSigned(aVal);\r\n                bVal = Utils.to32BitSigned(bVal);\r\n\r\n                var res = bVal * aVal;\r\n                this.emulator.Registers.EX.set((res >> 16) & 0xffff);\r\n                b.set(Utils.to16BitSigned(res));\r\n            }),\r\n\r\n            DIV: new Op(this, \"DIV\", OpCode.OPERATION_DIV, 3, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                if (aVal === 0) {\r\n                    this.emulator.Registers.EX.set(0);\r\n                    b.set(0);\r\n                }\r\n                else {\r\n                    var res = Math.floor(bVal / aVal);\r\n\r\n                    var properShift = (bVal << 16) >>> 0\r\n                    this.emulator.Registers.EX.set(Math.floor((properShift / aVal)) & 0xffff);\r\n                    b.set(res & 0xffff);\r\n                }\r\n            }),\r\n\r\n            DVI: new Op(this, \"DVI\", OpCode.OPERATION_DVI, 3, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                aVal = Utils.to32BitSigned(aVal);\r\n                bVal = Utils.to32BitSigned(bVal);\r\n\r\n                if (aVal === 0) {\r\n                    this.emulator.Registers.EX.set(0);\r\n                    b.set(0);\r\n                }\r\n                else {\r\n                    var res = Utils.roundTowardsZero(bVal / aVal);\r\n                    this.emulator.Registers.EX.set(Utils.roundTowardsZero(((bVal << 16) / aVal)) & 0xffff);\r\n                    b.set(Utils.to16BitSigned(res));\r\n                }\r\n            }),\r\n\r\n            MOD: new Op(this, \"MOD\", OpCode.OPERATION_MOD, 3, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                if (aVal === 0)\r\n                    b.set(0);\r\n                else\r\n                    b.set(bVal % aVal);\r\n            }),\r\n\r\n            MDI: new Op(this, \"MDI\", OpCode.OPERATION_MDI, 3, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                aVal = Utils.to32BitSigned(aVal);\r\n                bVal = Utils.to32BitSigned(bVal);\r\n\r\n                if (aVal === 0)\r\n                    b.set(0);\r\n                else\r\n                    b.set(Utils.to16BitSigned(bVal % aVal));\r\n            }),\r\n\r\n            AND: new Op(this, \"AND\", OpCode.OPERATION_AND, 1, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                b.set(bVal & aVal);\r\n            }),\r\n\r\n            BOR: new Op(this, \"BOR\", OpCode.OPERATION_BOR, 1, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                b.set(bVal | aVal);\r\n            }),\r\n\r\n            XOR: new Op(this, \"XOR\", OpCode.OPERATION_XOR, 1, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                b.set(bVal ^ aVal);\r\n            }),\r\n\r\n            SHR: new Op(this, \"SHR\", OpCode.OPERATION_SHR, 1, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                this.emulator.Registers.EX.set(((bVal << 16) >> aVal) & 0xffff);\r\n                b.set(bVal >>> aVal);\r\n            }),\r\n\r\n            ASR: new Op(this, \"ASR\", OpCode.OPERATION_ASR, 1, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                bVal = Utils.to32BitSigned(bVal);\r\n                this.emulator.Registers.EX.set(((bVal << 16) >>> aVal) & 0xffff);\r\n                b.set((bVal >> aVal) & 0xffff);\r\n            }),\r\n\r\n            SHL: new Op(this, \"SHL\", OpCode.OPERATION_SHL, 1, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                this.emulator.Registers.EX.set(((bVal << aVal) >> 16) & 0xffff);\r\n                b.set((bVal << aVal) & 0xffff);\r\n            }),\r\n\r\n            IFB: new Op(this, \"IFB\", OpCode.OPERATION_IFB, 2, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                if ((bVal & aVal) != 0) { }\r\n                else this.emulator.skipInstruction();\r\n\r\n            }),\r\n\r\n            IFC: new Op(this, \"IFC\", OpCode.OPERATION_IFC, 2, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                if ((bVal & aVal) === 0) { }\r\n                else this.emulator.skipInstruction();\r\n\r\n            }),\r\n\r\n            IFE: new Op(this, \"IFE\", OpCode.OPERATION_IFE, 2, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                if (bVal === aVal) { }\r\n                else this.emulator.skipInstruction();\r\n            }),\r\n\r\n            IFN: new Op(this, \"IFN\", OpCode.OPERATION_IFN, 2, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                if (bVal !== aVal) { }\r\n                else this.emulator.skipInstruction();\r\n            }),\r\n\r\n            IFG: new Op(this, \"IFG\", OpCode.OPERATION_IFG, 2, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                if (bVal > aVal) { }\r\n                else this.emulator.skipInstruction();\r\n            }),\r\n\r\n            IFA: new Op(this, \"IFA\", OpCode.OPERATION_IFA, 2, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                aVal = Utils.to32BitSigned(aVal);\r\n                bVal = Utils.to32BitSigned(bVal);\r\n\r\n                if (bVal > aVal) { }\r\n                else this.emulator.skipInstruction();\r\n            }),\r\n\r\n            IFL: new Op(this, \"IFL\", OpCode.OPERATION_IFL, 2, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                if (bVal < aVal) { }\r\n                else this.emulator.skipInstruction();\r\n            }),\r\n\r\n            IFU: new Op(this, \"IFU\", OpCode.OPERATION_IFU, 2, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                aVal = Utils.to32BitSigned(aVal);\r\n                bVal = Utils.to32BitSigned(bVal);\r\n\r\n                if (bVal < aVal) { }\r\n                else this.emulator.skipInstruction();\r\n            }),\r\n\r\n\r\n            ADX: new Op(this, \"ADX\", OpCode.OPERATION_ADX, 3, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                var res = aVal + bVal + this.emulator.Registers.EX.get();\r\n                this.emulator.Registers.EX.set(res > 0xffff ? 1 : 0);\r\n                b.set(res & 0xffff);\r\n            }),\r\n\r\n            SBX: new Op(this, \"SBX\", OpCode.OPERATION_SBX, 3, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                var res = bVal - aVal + this.emulator.Registers.EX.get();\r\n                this.emulator.Registers.EX.set(res < 0 ? 0xffff : 0);\r\n                b.set(res & 0xffff);\r\n            }),\r\n\r\n            STI: new Op(this, \"STI\", OpCode.OPERATION_STI, 2, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                b.set(aVal);\r\n                //a.set(bVal);\r\n                this.emulator.Registers.I.set((this.emulator.Registers.I.get() + 1) & 0xffff);\r\n                this.emulator.Registers.J.set((this.emulator.Registers.J.get() + 1) & 0xffff);\r\n            }),\r\n\r\n            STD: new Op(this, \"STD\", OpCode.OPERATION_STD, 2, function (a, b) {\r\n                var aVal = a.getA(), bVal = b.getB();\r\n\r\n                if (a.name === \"PC\")\r\n                    aVal = a.getA();\r\n\r\n                if (b.name === \"PC\")\r\n                    bVal = b.getB();\r\n\r\n                b.set(aVal);\r\n                //a.set(bVal);\r\n                this.emulator.Registers.I.set((this.emulator.Registers.I.get() - 1) & 0xffff);\r\n                this.emulator.Registers.J.set((this.emulator.Registers.J.get() - 1) & 0xffff);\r\n            }),\r\n\r\n            JSR: new Op(this, \"JSR\", OpCode.OPERATION_JSR, 3, function (a) {\r\n                var aVal = a.getA();\r\n                this.emulator.Registers.SP.push(this.emulator.Registers.PC.get());\r\n                this.emulator.Registers.PC.set(aVal);\r\n            }, this.SpecialOpSet),\r\n\r\n            INT: new Op(this, \"INT\", OpCode.OPERATION_INT, 4, function (a) {\r\n                var aVal = a.getA();\r\n                this.emulator.interruptQueue.push(aVal);\r\n            }, this.SpecialOpSet),\r\n\r\n            IAG: new Op(this, \"IAG\", OpCode.OPERATION_IAG, 1, function (a) {\r\n                var aVal = a.getA();\r\n                a.set(this.emulator.Registers.IA.get());\r\n            }, this.SpecialOpSet),\r\n\r\n            IAS: new Op(this, \"IAS\", OpCode.OPERATION_IAS, 1, function (a) {\r\n                this.emulator.Registers.IA.set(a.getA());\r\n            }, this.SpecialOpSet),\r\n\r\n            RFI: new Op(this, \"RFI\", OpCode.OPERATION_RFI, 3, function (a) {\r\n                var aVal = a.getA();\r\n                this.emulator.interruptQueueingEnabled = false;\r\n                this.emulator.Registers.A.set(this.emulator.Registers.SP.pop());\r\n                this.emulator.Registers.PC.set(this.emulator.Registers.SP.pop());\r\n\r\n            }, this.SpecialOpSet),\r\n\r\n            IAQ: new Op(this, \"IAQ\", OpCode.OPERATION_IAQ, 2, function (a) {\r\n                var aVal = a.getA();\r\n                if (aVal === 0)\r\n                    this.emulator.interruptQueueingEnabled = false;\r\n                else\r\n                    this.emulator.interruptQueueingEnabled = true;\r\n            }, this.SpecialOpSet),\r\n\r\n            HWN: new Op(this, \"HWN\", OpCode.OPERATION_HWN, 2, function (a) {\r\n                var aVal = a.getA();\r\n                a.set(this.emulator.devices.length);\r\n            }, this.SpecialOpSet),\r\n\r\n            HWQ: new Op(this, \"HWQ\", OpCode.OPERATION_HWQ, 4, function (a) {\r\n                var dev = this.emulator.devices[a.getA()];\r\n                if (dev) {\r\n                    this.emulator.Registers.A.set(dev.id & 0xffff);\r\n                    this.emulator.Registers.B.set((dev.id >> 16) & 0xffff);\r\n                    this.emulator.Registers.C.set(dev.version & 0xffff);\r\n                    this.emulator.Registers.X.set(dev.manufacturer & 0xffff);\r\n                    this.emulator.Registers.Y.set((dev.manufacturer >> 16) & 0xffff);\r\n                }\r\n\r\n            }, this.SpecialOpSet),\r\n\r\n            HWI: new Op(this, \"HWI\", OpCode.OPERATION_HWI, 4, function (a) {\r\n                var dev = this.emulator.devices[a.getA()];\r\n                if (dev)\r\n                    dev.interrupt();\r\n            }, this.SpecialOpSet),\r\n        };\r\n    }\r\n\r\n    private nextInstruction() {\r\n        var data = this.RAM[this.PC.inc()];\r\n\r\n        var instruction = Utils.parseInstruction(data);\r\n        var op;\r\n        if (instruction.opcode === 0) {\r\n            instruction = Utils.parseSpecialInstruction(data);\r\n            op = this.SpecialOpSet[instruction.opcode];\r\n        }\r\n        else\r\n            op = this.OpSet[instruction.opcode];\r\n\r\n\r\n\r\n        if (!op) {\r\n            var err = \"Invalid opcode \" + instruction.opcode;\r\n            console.warn(err);\r\n            throw err;\r\n        }\r\n\r\n        if (this.verbose) {\r\n            console.log(\r\n                Utils.hex(this.Registers.PC.get()) + \"\\t\" +\r\n                op.name + \"\\t(\" +\r\n                Utils.hex(instruction.a) + \",\\t\" +\r\n                Utils.hex(instruction.b) + \")\"\r\n            );\r\n        }\r\n        op.exec(instruction.a, instruction.b);\r\n    }\r\n\r\n    private nextWord() {\r\n        return this.RAM[this.Registers.PC.inc()];\r\n    }\r\n\r\n    private getParamValue(val) {\r\n        return this.Values[val.toString()];\r\n    }\r\n\r\n    private skipInstruction() {\r\n        var instruction = Utils.parseInstruction(this.RAM[this.PC.inc()]);\r\n\r\n        // skip \"next word\" values by invoking get() on the params\r\n        this.getParamValue(instruction.a).get();\r\n        if (instruction.opcode != 0)\r\n            this.getParamValue(instruction.b).get();\r\n\r\n        if (instruction.opcode >= OpCode.OPERATION_IFB && instruction.opcode <= OpCode.OPERATION_IFU) {\r\n            // if we have skipped a conditional instruction, skip additional instruction \r\n            // at cost of an additional cycle.  continue until a non-conditional instruction\r\n            // has been skipped\r\n            this.skipInstruction();\r\n        }\r\n\r\n    }\r\n\r\n    private processInterrupt(message) {\r\n        if (this.Registers.IA.get() != 0) {\r\n            this.interruptQueueingEnabled = true;\r\n            this.Registers.SP.push(this.Registers.PC.get());\t// push PC onto the stack\r\n            this.Registers.SP.push(this.Registers.A.get());\t\t// followed by pusing A to the stack\r\n            this.Registers.PC.set(this.Registers.IA.get());\t\t// set PC to IA\r\n            this.Registers.A.set(message);\t\t\t\t\t\t// set A to the interrupt message\r\n        }\r\n    }\r\n\r\n    public interrupt(message) {\r\n        this.interruptQueue.push(message);\r\n\r\n        if (this.interruptQueue.length > 256) {\r\n            // catch fire?\r\n            console.warn(\"DCUP-16 is on fire\");\r\n            throw \"Too many interrupts\";\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Reset DCPU\r\n     */\r\n    public reset() {\r\n        console.log(\"--- DCPU-16 Emulator ---\");\r\n\r\n        this.PC.set(0);\r\n        this.RAM = new Array(0x10000);\r\n\r\n        this.interruptQueueingEnabled = false;\r\n        this.interruptQueue = [];\r\n\r\n        for (var r in this.Registers) {\r\n            this.Registers[r].set(0);\r\n        }\r\n\r\n        for (var i = 0; i < this.devices.length; i++) {\r\n            this.devices[i].init();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Loads a program into memory.  \r\n     * @ _program the program you want to load into memory, as an array of bytes.\r\n     */\r\n    public load(_program: number[]) {\r\n\r\n        // load program into RAM\r\n        for (var i = 0; i < _program.length; i++) {\r\n            if (_program[i] != undefined)\r\n                this.RAM[i] = _program[i];\r\n        }\r\n    }\r\n\r\n    public step() { \r\n        this.nextInstruction();\r\n\r\n        // process one interrupt if we have one\r\n        if (this.interruptQueueingEnabled == false && this.interruptQueue.length > 0) {\r\n            this.processInterrupt(this.interruptQueue.shift());\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public addDevice(device: Device) {\r\n        this.devices.push(device);\r\n    }\r\n\r\n    public removeDevice(device: Device) {\r\n        var index = this.devices.indexOf(device);\r\n\r\n        if (index >= 0) {\r\n            this.devices.splice(index, 1);\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Emulator.ts","export class Literal {\r\n    public value: any;\r\n\r\n    public constructor(value: any) {\r\n        this.value = value;\r\n    }\r\n\r\n    public getA(): any {\r\n        return this.value;\r\n    }\r\n\r\n    public getB(): any {\r\n        return this.value;\r\n    }\r\n\r\n    public get(): any {\r\n        return this.value;\r\n    }\r\n\r\n    public set() { }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Literal.ts","\r\nexport class Op {\r\n    private emulator: any;\r\n    private name: any;\r\n    private value: any;\r\n    private cycles: any;\r\n    private _exec: any;\r\n\r\n    public constructor(_emulator: any, _name: any, _value: any, _cycles: any, __exec: any, _set: any = undefined) {\r\n        this.emulator = _emulator;\r\n        this.name = _name;\r\n        this.value = _value;\r\n        this.cycles = _cycles;\r\n        this._exec = __exec;\r\n\r\n        if(_set === undefined)\r\n            _set = this.emulator.OpSet;\r\n\r\n        _set[this.value] = this;\r\n    }\r\n\r\n    public exec(a: any, b: any): void {\r\n        var valA = this.emulator.getParamValue(a);\r\n        var valB = this.emulator.getParamValue(b);\r\n\r\n        if (!valA) throw new Error(\"Invalid 'a' value \" + a);\r\n        if (!valB) throw new Error(\"Invalid 'b' value \" + b);\r\n\r\n        this._exec(valA, valB);\r\n        this.emulator.CPU_CYCLE += this.cycles;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Op.ts","\r\nexport enum OpCode {\r\n    OPERATION_SET = 0x01,\r\n    OPERATION_ADD = 0x02,\r\n    OPERATION_SUB = 0x03,\r\n    OPERATION_MUL = 0x04,\r\n    OPERATION_MLI = 0x05,\r\n    OPERATION_DIV = 0x06,\r\n    OPERATION_DVI = 0x07,\r\n    OPERATION_MOD = 0x08,\r\n    OPERATION_MDI = 0x09,\r\n    OPERATION_AND = 0x0a,\r\n    OPERATION_BOR = 0x0b,\r\n    OPERATION_XOR = 0x0c,\r\n    OPERATION_SHR = 0x0d,\r\n    OPERATION_ASR = 0x0e,\r\n    OPERATION_SHL = 0x0f,\r\n\r\n    OPERATION_IFB = 0x10,\r\n    OPERATION_IFC = 0x11,\r\n    OPERATION_IFE = 0x12,\r\n    OPERATION_IFN = 0x13,\r\n    OPERATION_IFG = 0x14,\r\n    OPERATION_IFA = 0x15,\r\n    OPERATION_IFL = 0x16,\r\n    OPERATION_IFU = 0x17,\r\n\r\n    OPERATION_ADX = 0x1a,\r\n    OPERATION_SBX = 0x1b,\r\n\r\n    OPERATION_STI = 0x1e,\r\n    OPERATION_STD = 0x1f,\r\n\r\n    OPERATION_JSR = 0x01,\r\n    OPERATION_INT = 0x08,\r\n    OPERATION_IAG = 0x09,\r\n    OPERATION_IAS = 0x0a,\r\n    OPERATION_RFI = 0x0b,\r\n    OPERATION_IAQ = 0x0c,\r\n\r\n    OPERATION_HWN = 0x10,\r\n    OPERATION_HWQ = 0x11,\r\n    OPERATION_HWI = 0x12\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/OpCode.ts","\r\nexport class Register {\r\n    public name;\r\n    public value;\r\n    public emulator;\r\n    public contents;\r\n\r\n    public constructor(_name, _value, _emulator) {\r\n        this.name = _name;\r\n        this.value = _value;\r\n        this.emulator = _emulator;\r\n        this.contents = 0;\r\n    }\r\n\r\n    public getA() {\r\n        return this.contents;\r\n    }\r\n\r\n    public getB() {\r\n        return this.contents;\r\n    }\r\n\r\n    public get() {\r\n        return this.contents;\r\n    }\r\n\r\n    public set(val) {\r\n        this.contents = val & 0xFFFF;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Register.ts","export enum RegisterCode {\r\n    REGISTER_A = 0x00,\r\n    REGISTER_B = 0x01,\r\n    REGISTER_C = 0x02,\r\n    REGISTER_X = 0x03,\r\n    REGISTER_Y = 0x04,\r\n    REGISTER_Z = 0x05,\r\n    REGISTER_I = 0x06,\r\n    REGISTER_J = 0x07,\r\n    REGISTER_SP = 0x1b,\r\n    REGISTER_PC = 0x1c,\r\n    REGISTER_EX = 0x1d\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/RegisterCode.ts","export class RegisterPlusNextWord {\r\n    public register;\r\n    public emulator;\r\n    public cachedResult = null;\r\n\r\n    public constructor(_register) {\r\n        this.register = _register;\r\n        this.emulator = _register.emulator;\r\n        this.cachedResult = null;\r\n    }\r\n\r\n    public getA(): any {\r\n        var nw = this.emulator.nextWord();\r\n        \r\n        this.cachedResult = (this.register.get() + nw) & 0xFFFF;\r\n        return this.emulator.RAM[this.cachedResult] || 0;\r\n    }\r\n\r\n    public getB(): any {\r\n        return this.getA();\r\n    }\r\n\r\n    public get(): any {\r\n        return this.getA();\r\n    }\r\n\r\n    public set(val) {\r\n        this.emulator.RAM[this.cachedResult] = val;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/RegisterPlusNextWord.ts","export class RegisterValue {\r\n    public register;\r\n    public emulator;\r\n\r\n    public constructor(_register) {\r\n        this.register = _register;\r\n        this.emulator = _register.emulator;\r\n    }\r\n\r\n    public getA() {\r\n        return this.emulator.RAM[this.register.get()] || 0;\r\n    }\r\n\r\n    public getB() {\r\n        return this.getA();\r\n    }\r\n\r\n    public get() {\r\n        return this.getA();\r\n    }\r\n\r\n    public set(val) {\r\n        this.emulator.RAM[this.register.get()] = val;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/RegisterValue.ts","export class StackPointerValue {\r\n    public emulator;\r\n\r\n    public constructor(emulator: any) {\r\n        this.emulator = emulator;\r\n    }\r\n\r\n    public get() {\r\n        return this.emulator.Registers.SP.get();\r\n    }\r\n\r\n    public getB() {\r\n        return this.get();\r\n    }\r\n\r\n    public getA() {\r\n        return this.emulator.Registers.SP.pop();\r\n    }\r\n\r\n    public set(val) {\r\n        this.emulator.Registers.SP.push(val);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/StackPointerValue.ts","import { Emulator } from \"./Emulator\";\r\nimport { Monitor } from \"./Device/Monitor\";\r\nimport { Keyboard } from \"./Device/Keyboard\";\r\nimport { UtilsColor } from \"./Utils\";\r\nimport { Clock } from \"./Device/Clock\";\r\n\r\n/**\r\n * Setup a canvas where we can draw our LEM Monitor we will be attaching to the DCPU.\r\n */\r\nvar canvas = document.createElement(\"canvas\");\r\ncanvas.width = 128;\r\ncanvas.height = 96;\r\ncanvas.style.backgroundColor = \"#777777\";\r\ndocument.body.appendChild(canvas);\r\n\r\nvar context = canvas.getContext('2d');\r\n\r\n/**\r\n * Initialize the emulator.\r\n */\r\nvar emulator = new Emulator();\r\nvar clock = new Clock(emulator);\r\nvar keyboard = new Keyboard(emulator);\r\nvar monitor = new Monitor(emulator, (x: number, y: number, width: number, height: number, color: UtilsColor) => {\r\n    context.fillStyle = \"rgb(\" + color.r + \",\" + color.g + \",\" + color.b + \")\";\r\n    context.fillRect(x, y, width, height);\r\n});\r\n\r\nemulator.addDevice(keyboard);\r\nemulator.addDevice(clock);\r\nemulator.addDevice(monitor);\r\n\r\ndocument.body.onkeyup = (event) => {\r\n    keyboard.keyUp(event);\r\n};\r\n\r\ndocument.body.onkeydown = (event) => {\r\n    keyboard.keyDown(event);\r\n};\r\n\r\nvar testProgram = [0x84c1, 0x86d2, 0x000d, 0x7f81, 0x001a, 0x5801, 0x000d, 0x7c0b\r\n    , 0xf000, 0x02c1, 0x8000, 0x88c2, 0x8b81, 0x0048, 0x0065, 0x006c\r\n    , 0x006c, 0x006f, 0x0020, 0x0077, 0x006f, 0x0072, 0x006c, 0x0064\r\n    , 0x0021, 0x0000, 0xef81];\r\nemulator.reset();\r\nemulator.load(testProgram);\r\n\r\n/**\r\n * Not super accurate timing, but good enough for a demo.\r\n */\r\nvar lastUpdate = Date.now();\r\n\r\nvar exec = function () {\r\n    let delta = Date.now() - lastUpdate;\r\n    lastUpdate += delta;\r\n\r\n    for (; delta >= 10; delta -= 10) {\r\n\r\n        clock.update(10);\r\n\r\n        //Step 10 time per ms = 10khz\r\n        for (let i = 0; i < 1000; i++)\r\n            emulator.step();\r\n        \r\n    }\r\n\r\n    monitor.refresh();\r\n\r\n    setTimeout(exec, 100);\r\n}\r\n\r\nexec();\n\n\n// WEBPACK FOOTER //\n// ./src/TestApp.ts"],"sourceRoot":""}